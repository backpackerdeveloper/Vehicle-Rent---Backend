{
  "info": {
    "name": "Vehicle Rental API",
    "description": "Complete API collection for Vehicle Rental Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Signup",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"customer\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/signup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "signup"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\",\n  \"password\": \"customer123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "refresh"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "logout"]
            }
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/forgot-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "forgot-password"]
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "profile"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Updated\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "Stores",
      "item": [
        {
          "name": "Get All Stores",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/stores?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "stores"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "10"}
              ]
            }
          }
        },
        {
          "name": "Get Store by ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/stores/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "stores", ":id"],
              "variable": [{"key": "id", "value": "store-1"}]
            }
          }
        },
        {
          "name": "Create Store",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"My Rental Store\",\n  \"location\": \"123 Main St, City, State\",\n  \"latitude\": 40.7128,\n  \"longitude\": -74.0060\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/stores",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "stores"]
            }
          }
        },
        {
          "name": "Get Owner Stores",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/stores/owner/my-stores",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "stores", "owner", "my-stores"]
            }
          }
        }
      ]
    },
    {
      "name": "Vehicles",
      "item": [
        {
          "name": "Get Vehicles by Store",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/vehicles/store/:storeId?available=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "vehicles", "store", ":storeId"],
              "query": [{"key": "available", "value": "true"}],
              "variable": [{"key": "storeId", "value": "store-1"}]
            }
          }
        },
        {
          "name": "Get Vehicle by ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/vehicles/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "vehicles", ":id"],
              "variable": [{"key": "id", "value": "vehicle-1"}]
            }
          }
        },
        {
          "name": "Create Vehicle",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"storeId\": \"store-1\",\n  \"title\": \"2023 Toyota Camry\",\n  \"description\": \"Reliable sedan\",\n  \"rentPerDay\": 50.0,\n  \"rentPerMonth\": 1200.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/vehicles",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "vehicles"]
            }
          }
        }
      ]
    },
    {
      "name": "Rentals",
      "item": [
        {
          "name": "Create Rental Request",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vehicleId\": \"vehicle-1\",\n  \"startDate\": \"2024-02-01T00:00:00Z\",\n  \"endDate\": \"2024-02-05T00:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/rentals",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rentals"]
            }
          }
        },
        {
          "name": "Get Customer Rentals",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rentals/customer/my-rentals?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rentals", "customer", "my-rentals"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "10"}
              ]
            }
          }
        },
        {
          "name": "Approve Rental",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/rentals/:id/approve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rentals", ":id", "approve"],
              "variable": [{"key": "id", "value": "rental-1"}]
            }
          }
        },
        {
          "name": "Renew Rental",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newEndDate\": \"2024-02-10T00:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/rentals/:id/renew",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "rentals", ":id", "renew"],
              "variable": [{"key": "id", "value": "rental-1"}]
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"},
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"method\": \"mock\",\n  \"amount\": 200.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/rental/:rentalRequestId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "payments", "rental", ":rentalRequestId"],
              "variable": [{"key": "rentalRequestId", "value": "rental-1"}]
            }
          }
        },
        {
          "name": "Download Receipt (PDF)",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/:id/receipt?format=pdf",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "payments", ":id", "receipt"],
              "query": [{"key": "format", "value": "pdf"}],
              "variable": [{"key": "id", "value": "payment-1"}]
            }
          }
        }
      ]
    }
  ]
}


